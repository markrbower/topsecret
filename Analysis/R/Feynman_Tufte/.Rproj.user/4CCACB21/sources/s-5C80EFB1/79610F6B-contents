mef_info <- function( args ) {
  library( Rcpp )
  # Based on Matlab code "read_mef_discont".
  # Value: a named list containing two vectors (discontinuity_flags and TOC) and the header.
  
  filename <- args[1]
  password <- args[2]

  # Read the header
  Rcpp::sourceCpp('~/Dropbox/Documents/Concepts/2018_07_27_meftools/Analysis/meftools/C/read_mef_header.cpp')
  print( paste0( filename, ' ', password ) )
  header = read_mef_header(c(filename,password))
  print( header )
  
  # Read the ToC
  # Use Rcpp to pass in 'index_data_offset' and 'number_of_index_entries', then
  # return the ToC.
  print( 'Reading ToC' )
  Rcpp::sourceCpp('~/Dropbox/Documents/Concepts/2018_07_27_meftools/Analysis/meftools/C/table_of_contents.cpp')
  variables <- c(filename,header$index_data_offset,header$number_of_index_entries)
  print( paste0( variables ) )
  ToC <- table_of_contents( variables )
  print( 'Read ToC' )

  # Read the discontnuities
  # Use Rcpp to pass in 'number_of_index_entries', then
  # return the discontinuity flags.
  print( 'Reading discontinuities' )
  Rcpp::sourceCpp('~/Dropbox/Documents/Concepts/2018_07_27_meftools/Analysis/meftools/C/get_discontinuities.cpp')
  discontinuities <- get_discontinuities( c(filename,header$number_of_index_entries), ToC );
  print( 'Read discontinuities' )
  
  # Put the returnable values in a named list.
  value <- list( header=header, ToC=ToC, discontinuities=discontinuities );  
  return( value )
}
